<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/loginstyle.css' %}">
    <script defer src="{% static 'js/app.js' %}"></script>
    <script>
        function togglePassword(formType) {
            let passwordField, toggleIcon;

            if (formType === 'register') {
                passwordField = document.getElementById("password-register");
                toggleIcon = document.getElementById("password-toggle-register");
            } else if (formType === 'confirm-register') {
                passwordField = document.getElementById("confirm-password-register");
                toggleIcon = document.getElementById("confirm-password-toggle-register");
            } else {
                passwordField = document.getElementById("password");
                toggleIcon = document.getElementById("password-toggle");
            }

            if (passwordField.type === "password") {
                passwordField.type = "text";
                toggleIcon.classList.remove("bx-show");
                toggleIcon.classList.add("bx-hide");
            } else {
                passwordField.type = "password";
                toggleIcon.classList.remove("bx-hide");
                toggleIcon.classList.add("bx-show");
            }
        }
    </script>
</head>
<body>
    <div class="wrapper">
        <span class="rotate-bg"></span>
        <span class="rotate-bg2"></span>

        <!-- Login Form -->
        <div class="form-box login ">
            <h2 class="title">Login</h2>
            <form method="POST">
                {% csrf_token %}
                
                <!-- Username Field -->
                <div class="input-box username-box">
                    <p>Username</p>
                    <input type="text" id="username" name="username" required>
                    
                </div>

                <!-- Password Field with Toggle -->
                <div class="input-box password-box">
                    <p>Password</p>
                    <input type="password" id="password" name="password" required>
                    <i class="bx bx-show" id="password-toggle" onclick="togglePassword()"></i>
                </div>
                
                <button type="submit" name="login" class="btn">Login</button>
                <div class="linkTxt">
                    <p>Don't have an account? <a href="#" class="register-link">Sign Up</a></p>
                </div>
            </form>
        </div>
        <div class="info-text login">
            <h2 class="animation" style="--i:0; --j:20">Welcome Back!</h2>
            <p class="animation" style="--i:1; --j:21">Please enter your credentials to access your account.</p>
        </div>

        <!-- Register Form -->
        <div class="form-box register hidden">
            <h2 class="title">Sign Up</h2>
            <form method="POST">
                {% csrf_token %}
                
                <!-- Username Field (Registration) -->
                <div class="input-box username-box">
                    <p>Username</p>
                    <input type="text" id="username-register" name="username" required>
                    
                </div>
                <div class="input-box username-box">
                    <p>E-mail</p>
                    <input type="email" id="email-register" name="email" required>
                    
                </div>
                <!-- Password Field with Toggle (Registration) -->
                <div class="input-box password-box">
                    <p>Password</p>
                    <input type="password" id="password-register" name="password" required>
                    
                    <i class="bx bx-show" id="password-toggle-register" onclick="togglePassword('register')"></i>
                </div>

                <!-- Confirm Password Field with Toggle (Registration) -->
                <div class="input-box password-box">
                    <p> Confirm Password</p>
                    <input type="password" id="confirm-password-register" name="confirm_password" required>
                    <i class="bx bx-show" id="confirm-password-toggle-register" onclick="togglePassword('confirm-register')"></i>
                </div>

                <button type="submit" name="register" class="btn">Register</button>
                <div class="linkTxt">
                    <p>Already have an account? <a href="#" class="login-link">Login</a></p>
                </div>
            </form>
        </div>
        <div class="info-text register">
            <h2 class="animation" style="--i:17; --j:0;">Create an Account!</h2>
            <p class="animation" style="--i:18; --j:1;">Join us today and experience all the benefits!</p>
        </div>
    </div>
</body>
</html>
